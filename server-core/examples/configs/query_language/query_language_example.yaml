# Example configuration showing queryLanguage property usage
# This demonstrates how to configure both Cypher and GQL queries

server:
  host: "0.0.0.0"
  port: 8080
  log_level: "info"
  max_connections: 1000
  shutdown_timeout_seconds: 30

sources:
  - id: "source1"
    source_type: "mock"
    auto_start: true
    properties:
      data_type: "sensor"
      interval_ms: 1000

queries:
  # Example 1: Cypher query (explicit)
  - id: "cypher-query-explicit"
    query: "MATCH (n:Person) WHERE n.age > 25 RETURN n.name, n.age"
    queryLanguage: "Cypher"  # Explicitly set to Cypher
    sources: ["source1"]
    auto_start: true
    
  # Example 2: Cypher query (default - backward compatible)
  - id: "cypher-query-default"
    query: "MATCH (p:Person)-[:KNOWS]->(friend) RETURN p, friend"
    # queryLanguage is not specified, defaults to Cypher
    sources: ["source1"]
    auto_start: true
    
  # Example 3: GQL query
  - id: "gql-query"
    query: "MATCH (n:Person) RETURN n.name, n.email"
    queryLanguage: "GQL"  # Must be explicitly set for GQL
    sources: ["source1"]
    auto_start: true
    
  # Example 4: GQL query with more complex pattern
  - id: "gql-complex-query"
    query: |
      MATCH (p:Person)-[r:WORKS_AT]->(c:Company)
      WHERE c.industry = 'Technology'
      RETURN p.name AS person, c.name AS company, r.since AS startDate
    queryLanguage: "GQL"
    sources: ["source1"]
    auto_start: true
    
  # Example 5: Query with joins (works with both languages)
  - id: "query-with-joins"
    query: "MATCH (a:Order)-[r:CONTAINS]->(b:Product) RETURN a, r, b"
    queryLanguage: "Cypher"
    sources: ["source1"]
    auto_start: true
    joins:
      - id: "CONTAINS"
        keys:
          - label: "Order"
            property: "product_id"
          - label: "Product"
            property: "id"

reactions:
  - id: "log-reaction"
    reaction_type: "log"
    queries: 
      - "cypher-query-explicit"
      - "cypher-query-default"
      - "gql-query"
      - "gql-complex-query"
    auto_start: true
    properties:
      log_level: "info"